{"remainingRequest":"/Users/EGGROLL/Sites/gp-voting-page/node_modules/babel-loader/lib/index.js!/Users/EGGROLL/Sites/gp-voting-page/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/EGGROLL/Sites/gp-voting-page/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/EGGROLL/Sites/gp-voting-page/src/components/SelectMartBlock.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/EGGROLL/Sites/gp-voting-page/src/components/SelectMartBlock.vue","mtime":1569228245744},{"path":"/Users/EGGROLL/Sites/gp-voting-page/node_modules/cache-loader/dist/cjs.js","mtime":1551074536132},{"path":"/Users/EGGROLL/Sites/gp-voting-page/node_modules/babel-loader/lib/index.js","mtime":1560932818402},{"path":"/Users/EGGROLL/Sites/gp-voting-page/node_modules/cache-loader/dist/cjs.js","mtime":1551074536132},{"path":"/Users/EGGROLL/Sites/gp-voting-page/node_modules/vue-loader/lib/index.js","mtime":1568550729026}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport LongPress from 'vue-directive-long-press';\nexport default {\n  name: 'SelectMartBlock',\n  directives: {\n    'long-press': LongPress\n  },\n  props: ['img', 'mart', 'martEng', 'selected', 'mobile'],\n  data: function data() {\n    return {\n      loading: false,\n      timer: 0,\n      timerInterval: null\n    };\n  },\n  created: function created() {\n    window.oncontextmenu = function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n      return false;\n    };\n  },\n  methods: {\n    selectMart: function selectMart(ev) {\n      ev.preventDefault();\n\n      if (!this.mobile) {\n        this.$emit('selectMart', this.mart);\n      }\n    },\n    onLongPressStart: function onLongPressStart(ev) {\n      var _this = this;\n\n      ev.preventDefault();\n      this.timerInterval = setInterval(function () {\n        _this.timer += 1;\n\n        if (_this.timer >= 3) {\n          _this.onLongPressStop();\n        }\n      }, 1000);\n    },\n    onLongPressStop: function onLongPressStop() {\n      clearInterval(this.timerInterval);\n\n      if (this.timer >= 3) {\n        alert('1232131232132123');\n        this.timer = 0;\n      } else {\n        this.timer = 0;\n      }\n    } //\n    // absorbEvent_(event) {\n    //   let e = event || window.event;\n    //   e.preventDefault && e.preventDefault();\n    //   e.stopPropagation && e.stopPropagation();\n    //   e.cancelBubble = true;\n    //   e.returnValue = false;\n    //   return false;\n    // },\n    // preventLongPressMenu(node) {\n    //   node.ontouchstart = this.absorbEvent_;\n    //   node.ontouchmove = this.absorbEvent_;\n    //   node.ontouchend = this.absorbEvent_;\n    //   node.ontouchcancel = this.absorbEvent_;\n    // }\n\n  }\n};",{"version":3,"sources":["SelectMartBlock.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAwBA,OAAA,SAAA,MAAA,0BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,UAAA,EAAA;AACA,kBAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA,CAAA,KAAA,EAAA,MAAA,EAAA,SAAA,EAAA,UAAA,EAAA,QAAA,CALA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,CAFA;AAGA,MAAA,aAAA,EAAA;AAHA,KAAA;AAKA,GAZA;AAaA,EAAA,OAbA,qBAaA;AACA,IAAA,MAAA,CAAA,aAAA,GAAA,UAAA,KAAA,EAAA;AACA,MAAA,KAAA,CAAA,cAAA;AACA,MAAA,KAAA,CAAA,eAAA;AACA,aAAA,KAAA;AACA,KAJA;AAKA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,EADA,EACA;AACA,MAAA,EAAA,CAAA,cAAA;;AACA,UAAA,CAAA,KAAA,MAAA,EAAA;AACA,aAAA,KAAA,CAAA,YAAA,EAAA,KAAA,IAAA;AACA;AACA,KANA;AAOA,IAAA,gBAPA,4BAOA,EAPA,EAOA;AAAA;;AACA,MAAA,EAAA,CAAA,cAAA;AACA,WAAA,aAAA,GAAA,WAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,IAAA,CAAA;;AACA,YAAA,KAAA,CAAA,KAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,eAAA;AACA;AACA,OALA,EAKA,IALA,CAAA;AAMA,KAfA;AAgBA,IAAA,eAhBA,6BAgBA;AACA,MAAA,aAAA,CAAA,KAAA,aAAA,CAAA;;AACA,UAAA,KAAA,KAAA,IAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,kBAAA,CAAA;AACA,aAAA,KAAA,GAAA,CAAA;AACA,OAHA,MAGA;AACA,aAAA,KAAA,GAAA,CAAA;AACA;AACA,KAxBA,CAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAvCA;AApBA,CAAA","sourcesContent":["<template>\n  <div class=\"block\" v-bind:style=\"{ backgroundImage: 'url(' + img + ')' }\"\n    @click=\"selectMart\"\n    v-long-press=\"100\"\n    v-loading=\"loading\"\n    @long-press-start=\"onLongPressStart\"\n    @long-press-stop=\"onLongPressStop\">\n    <div class=\"confirm-layer\">\n      <div class=\"voting-btn\">\n        <el-button \n          round \n          class=\"NotoSansCJKtc-Regular\"\n        >確定投票</el-button>\n      </div>\n      <img class=\"voting-icon\" src=\"@/assets/img/voted.png\" alt=\"\">\n    </div>\n    <div class=\"mart-content\">\n      <h3>{{mart}}</h3>\n      <small>{{martEng}}</small>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LongPress from 'vue-directive-long-press'\n\nexport default {\n  name: 'SelectMartBlock',\n  directives: {\n    'long-press': LongPress\n  },\n  props: ['img', 'mart', 'martEng', 'selected', 'mobile'],\n  data() {\n    return {\n      loading: false,\n      timer: 0,\n      timerInterval: null,\n    }\n  },\n  created() {\n    window.oncontextmenu = function(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      return false;\n    };\n  },\n  methods: {\n    selectMart (ev) {\n      ev.preventDefault();\n      if (!this.mobile) {\n        this.$emit('selectMart', this.mart)\n      }\n    },\n    onLongPressStart (ev) {\n      ev.preventDefault();\n      this.timerInterval = setInterval(() => {\n        this.timer += 1;\n        if (this.timer >= 3) {\n          this.onLongPressStop();\n        }\n      }, 1000)\n    },\n    onLongPressStop () {\n      clearInterval(this.timerInterval);\n      if (this.timer >= 3) {\n        alert('1232131232132123')\n        this.timer = 0;\n      } else {\n        this.timer = 0;\n      }\n    },\n    //\n    // absorbEvent_(event) {\n    //   let e = event || window.event;\n    //   e.preventDefault && e.preventDefault();\n    //   e.stopPropagation && e.stopPropagation();\n    //   e.cancelBubble = true;\n    //   e.returnValue = false;\n    //   return false;\n    // },\n    // preventLongPressMenu(node) {\n    //   node.ontouchstart = this.absorbEvent_;\n    //   node.ontouchmove = this.absorbEvent_;\n    //   node.ontouchend = this.absorbEvent_;\n    //   node.ontouchcancel = this.absorbEvent_;\n    // }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n.block {\n  // pointer-events: none;\n  position: relative;\n  cursor: pointer;\n  background-color: rgb(245, 245, 245);\n  background-position: center 40%;\n  background-repeat: no-repeat;\n  background-size: 30% auto;\n  border: 1px solid black;\n  width: 100%;\n  margin: -1px;\n  height: 25vh;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  .mart-content {\n    h3 {\n      margin: 0;\n    }\n    position: absolute;\n    left: 10%;\n    bottom: 10%;\n    text-align: left; \n    z-index: 100;\n  }\n}\n.confirm-layer {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  height: 25vh;\n  top: 0;\n  left: 0;\n  background-color: rgba(255, 239, 167, 0.57);\n  z-index: 200;\n  .voting-btn {\n    position: relative;\n    top: 50%;\n    transform: translateY(-50%);\n    padding: 10px;\n    .el-button {\n      background-color: rgb(235, 144, 98);\n      color: white;\n      letter-spacing: 1.7pt;\n    }\n  }\n  .voting-icon {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    opacity: 0.57;\n  }\n}\n.confirm-layer:hover {\n  opacity: 1;\n}\n@media (max-width: 767px) {\n  .block {\n    // background-size: 30% auto;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}